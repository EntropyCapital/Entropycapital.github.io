<!DOCTYPE html>
<html lang="en" class="antialiased">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>D.A.G. FILM</title>

  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png" />

  <!-- Tailwind CSS via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Google “handwriting” font -->
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet" />

  <!-- Feather Icons -->
  <script src="https://unpkg.com/feather-icons"></script>

  <!-- Flatpickr date-picker -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

  <!-- Stripe.js -->
  <script src="https://js.stripe.com/v3/"></script>

  <!-- MailerLite Embed Styles -->
  <link rel="stylesheet" href="css/mailerlite.css" />
</head>

<body class="bg-gray-900 text-white flex flex-col min-h-screen">
  <!-- Sticky Nav -->
  <nav class="sticky top-0 z-50 bg-gray-900 bg-opacity-90 backdrop-blur-md flex items-center justify-between px-6 py-4">
    <a href="#top">
      <img src="images/logo-small.png" alt="D.A.G. FILM Logo" class="h-10" />
    </a>
    <button id="open-booking" class="px-5 py-2 bg-blue-600 hover:bg-blue-500 rounded-full font-semibold">
      Schedule a Call
    </button>
  </nav>

  <!-- Booking Modal (hidden by default) -->
  <div id="booking-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 hidden">
    <div class="bg-gray-800 rounded-xl p-6 max-w-md w-full space-y-4">
      <h3 class="text-xl font-semibold">Choose Date & Time</h3>
      <input id="slotpicker" placeholder="Select date & time" class="w-full p-3 rounded-lg text-gray-900" />
      <input id="email-input" type="email" placeholder="Your email" class="w-full p-3 rounded-lg text-gray-900" />
      <button id="confirm-btn" disabled class="w-full py-3 bg-blue-600 hover:bg-blue-500 rounded-full font-semibold transition disabled:opacity-50">
        Pay & Book
      </button>
      <button id="close-booking" class="mt-2 w-full py-2 text-center text-gray-300 hover:text-white">
        Cancel
      </button>
    </div>
  </div>

  <!-- Hero Section -->
  <header id="top" class="w-full h-96 bg-center bg-no-repeat bg-cover" style="background-image: url('images/hero-background.jpg');">
    <div class="bg-gray-900 bg-opacity-70 w-full h-full flex flex-col items-center justify-center text-center px-4">
      <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl leading-tight" style="font-family: 'Pacifico', cursive;">Strategy. Shoot. Edit.</h1>
      <p class="mt-4 text-base sm:text-lg md:text-xl text-gray-200 max-w-xl">Transform your brand with high-impact videos that engage, convert, and grow your audience.</p>
    </div>
  </header>

  <!-- Rest of your content... -->
  <!-- (Why Work With Me, Services, Portfolio, etc.) -->

  <!-- Footer -->
  <footer class="bg-gray-900 text-gray-400 py-6 mt-auto">
    <!-- existing footer markup -->
  </footer>

  <!-- Stripe + Flatpickr + Booking Logic -->
  <script>
    // Initialize date-picker
    flatpickr('#slotpicker', {
      enableTime: true,
      minDate: 'today',
      onChange: (dates) => {
        selectedSlot = dates[0].toISOString();
        document.getElementById('confirm-btn').disabled = false;
      }
    });

    const stripe = Stripe('pk_live_…your_public_key');
    let selectedSlot = null;

    // Open & close modal
    document.getElementById('open-booking').onclick = () => document.getElementById('booking-modal').classList.remove('hidden');
    document.getElementById('close-booking').onclick = () => document.getElementById('booking-modal').classList.add('hidden');

    // Confirm & redirect to Stripe Checkout
    document.getElementById('confirm-btn').onclick = async () => {
      const email = document.getElementById('email-input').value;
      const res = await fetch('/api/create-checkout-session', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ email, slot: selectedSlot })
      });
      const { id } = await res.json();
      stripe.redirectToCheckout({ sessionId: id });
    };

    // Feather icons
    feather.replace({ 'stroke-width': 2 });
  </script>
</body>
</html>
